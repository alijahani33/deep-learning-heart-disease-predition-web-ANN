<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hdisease</title>
</head>
<body>

    <div class="container text-center">
        <div class="row">
          <div class="col align-self-start">
          <br></br>
          <br></br>

            Heart Disease ANN Model Pytorch
            <small class="text-muted">Prediction Heart Disease</small>
          </h3>
          <br></br>
          <br></br>
          <br></br>
          <br></br>
            <p class="fw-semibold">This data set dates from 1988 and consists of four databases: Cleveland, Hungary, Switzerland, and Long Beach V. It contains 76 attributes, including the predicted attribute, but all published experiments refer to using a subset of 14 of them.</p>
        </div>
          <div class="col align-self-center">
          <br></br>

    <form action="/hdisease" method="post">

      <div class="row">
        <div class="col">
          <input type="text" class="form-control" name="age" id="age" placeholder="age in years">
        </div>
        <div class="col">
          <input type="text" class="form-control" name="sex" id="sex" placeholder="(1 = male; 0 = female)">
        </div>
      </div>
      <br></br>

      <div class="row">
        <div class="col">
          <input type="text" class="form-control" name="cp" id="cp" placeholder="chest pain type">
        </div>
        <div class="col">
          <input type="text" class="form-control" name="trestbps" id="trestbps" placeholder="resting blood pressure ">
        </div>
      </div>
      <br></br>

      
      <div class="row">
        <div class="col">
          <input type="text" class="form-control" name="chol" id="chol" placeholder="serum cholestoral in mg/dl">
        </div>
        <div class="col">
          <input type="text" class="form-control" name="fbs" id="fbs" placeholder="fasting blood sugar">
        </div>
      </div>
      <br></br>

      <div class="row">
        <div class="col">
          <input type="text" class="form-control" name="restecg" id="restecg" placeholder="resting">
        </div>
        <div class="col">
          <input type="text" class="form-control" name="thalach" id="thalach" placeholder="maximum heart rate achieved">
        </div>
      </div>
      <br></br>

      <div class="row">
        <div class="col">
          <input type="text" class="form-control" name="exang" id="exang" placeholder="exercise induced angina ">
        </div>
        <div class="col">
          <input type="text" class="form-control" name="oldpeak" id="oldpeak" placeholder="exercise relative to rest">
        </div>
      </div>
      <br></br>

      <div class="row">
        <div class="col">
          <input type="text" class="form-control" name="slope" id="slope" placeholder="the slope of the peak">
        </div>
        <div class="col">
          <input type="text" class="form-control" name="ca" id="ca" placeholder="number of major vessels ">
        </div>
      </div>

      <br></br>
      <div class="mb-3">
            <input type="text" class="form-control" name="thal" id="thal" placeholder="1=normal;2=fixed defect;3=reversable defect">
          </div>

        <div class="d-grid gap-2 col-6 mx-auto">
            <button class="btn btn-primary" type="button"value="Submit" id="sub">Prediction</button>
          </div>
    </form>
    
          </div>
          <div class="col align-self-end">
            <h1 class="display-5" id="result"></h1>
            <div style="color:green" id="result"></div>
          </div>
        </div>
      </div>
    <h3>
        
</body>
<script>
    let subBtn = document.getElementById("sub")
    let resultLbl = document.getElementById("result")

    subBtn.addEventListener("click",e => {
        let age = document.getElementById("age").value    
        let sex = document.getElementById("sex").value
        let cp = document.getElementById("cp").value
        let trestbps = document.getElementById("trestbps").value
        let chol = document.getElementById("chol").value    
        let fbs = document.getElementById("fbs").value
        let restecg = document.getElementById("restecg").value
        let thalach = document.getElementById("thalach").value
        let exang = document.getElementById("exang").value    
        let oldpeak = document.getElementById("oldpeak").value
        let slope = document.getElementById("slope").value
        let ca = document.getElementById("ca").value
        let thal = document.getElementById("thal").value

        let data = `age=${age}&sex=${sex}&cp=${cp}&trestbps=${trestbps}&chol=${chol}&fbs=${fbs}&restecg=${restecg}&thalach=${thalach}&exang=${exang}&oldpeak=${oldpeak}&slope=${slope}&ca=${ca}&thal=${thal}`
        fetch('/hdisease', {
            method: 'POST',
            body: data,
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
            },
        })
        .then((response) => response.text())
        .then((text) => {
            resultLbl.innerHTML = ` ${text}`;
        });
    })
</script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</html>